<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">
	
	<a4j:outputPanel ajaxRendered="true">
		<rich:modalPanel rendered="#{showMessages}" showWhenRendered="true" autosized="true" style="padding-bottom:0px">
			<f:facet name="header">
				<h:outputText value="#{bundle['messages']}"/>
			</f:facet>
			<f:facet name="controls">
				<h:graphicImage value="#{bundle['image.close']}" 
					onclick="document.getElementById('#{rich:clientId('popupForm:cancel')}').click();"/>
			</f:facet>
			<a4j:outputPanel layout="block" style="width:350px;height:120px;overflow-y:auto;">
				<rich:messages>
					<f:facet name="errorMarker">
						<h:graphicImage style="margin-right:10px" value="#{resources['image.error']}" />
					</f:facet>
					<f:facet name="fatalMarker">
						<h:graphicImage style="margin-right:10px" value="#{resources['image.fatal']}" />
					</f:facet>
					<f:facet name="infoMarker">
						<h:graphicImage style="margin-right:10px" value="#{resources['image.info']}" />
					</f:facet>
					<f:facet name="warnMarker">
						<h:graphicImage style="margin-right:10px" value="#{resources['image.warn']}" />
					</f:facet>
				</rich:messages>
			</a4j:outputPanel>
			<h:form id="popupForm" style="text-align:center;margin:0px;">
				<a4j:commandButton id="cancel" value="#{text['close']}" ajaxSingle="true">
					<a4j:actionparam value="false" assignTo="#{showMessages}"/>
				</a4j:commandButton>
			</h:form>
		</rich:modalPanel>
	</a4j:outputPanel>
</ui:composition>

